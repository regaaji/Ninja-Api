function cov_thkjwrhu5(){var path="/home/programmer/arkademy/minggu1/ninja-library-app/src/helpers/upload.js";var hash="21e0d5eb03c1bda9a60266595fab37aed63759c7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/programmer/arkademy/minggu1/ninja-library-app/src/helpers/upload.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:32}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:16},end:{line:11,column:2}},"3":{start:{line:5,column:4},end:{line:5,column:46}},"4":{start:{line:8,column:8},end:{line:8,column:83}},"5":{start:{line:12,column:19},end:{line:20,column:1}},"6":{start:{line:13,column:22},end:{line:13,column:49}},"7":{start:{line:14,column:2},end:{line:19,column:3}},"8":{start:{line:15,column:4},end:{line:15,column:18}},"9":{start:{line:17,column:4},end:{line:17,column:56}},"10":{start:{line:21,column:15},end:{line:27,column:2}},"11":{start:{line:28,column:16},end:{line:28,column:38}},"12":{start:{line:30,column:0},end:{line:30,column:40}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:16},end:{line:4,column:17}},loc:{start:{line:4,column:39},end:{line:6,column:3}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:26},end:{line:9,column:3}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:19},end:{line:12,column:20}},loc:{start:{line:12,column:49},end:{line:20,column:1}},line:12}},branchMap:{"0":{loc:{start:{line:14,column:2},end:{line:19,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:19,column:3}},{start:{line:14,column:2},end:{line:19,column:3}}],line:14},"1":{loc:{start:{line:14,column:6},end:{line:14,column:96}},type:"binary-expr",locations:[{start:{line:14,column:6},end:{line:14,column:33}},{start:{line:14,column:37},end:{line:14,column:65}},{start:{line:14,column:69},end:{line:14,column:96}}],line:14}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"21e0d5eb03c1bda9a60266595fab37aed63759c7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_thkjwrhu5=function(){return actualCoverage;};}return actualCoverage;}cov_thkjwrhu5();const multer=(cov_thkjwrhu5().s[0]++,require('multer'));const path=(cov_thkjwrhu5().s[1]++,require('path'));const storage=(cov_thkjwrhu5().s[2]++,multer.diskStorage({destination:(request,file,cb)=>{cov_thkjwrhu5().f[0]++;cov_thkjwrhu5().s[3]++;cb(null,__dirname+'../../public/images/');},filename(req,file,cb){cov_thkjwrhu5().f[1]++;cov_thkjwrhu5().s[4]++;cb(null,`${file.fieldname}-${Date.now()}`+path.extname(file.originalname));}}));cov_thkjwrhu5().s[5]++;const fileFilter=(request,file,cb,error)=>{cov_thkjwrhu5().f[2]++;const imageFilter=(cov_thkjwrhu5().s[6]++,file.mimetype.toLowerCase());cov_thkjwrhu5().s[7]++;if((cov_thkjwrhu5().b[1][0]++,imageFilter==='image/jpg')||(cov_thkjwrhu5().b[1][1]++,imageFilter==='image/jpeg')||(cov_thkjwrhu5().b[1][2]++,imageFilter==='image/png')){cov_thkjwrhu5().b[0][0]++;cov_thkjwrhu5().s[8]++;cb(null,true);}else{cov_thkjwrhu5().b[0][1]++;cov_thkjwrhu5().s[9]++;cb('extension image only jpeg, jpg, and png',false);// alert('extension image only jpeg, jpg, and png')
}};const upload=(cov_thkjwrhu5().s[10]++,multer({storage,fileFilter,limits:{fileSize:2024*2024}}));const uploads=(cov_thkjwrhu5().s[11]++,upload.single('image'));cov_thkjwrhu5().s[12]++;module.exports={bookUpload:uploads};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZC5qcyJdLCJuYW1lcyI6WyJtdWx0ZXIiLCJyZXF1aXJlIiwicGF0aCIsInN0b3JhZ2UiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxdWVzdCIsImZpbGUiLCJjYiIsIl9fZGlybmFtZSIsImZpbGVuYW1lIiwicmVxIiwiZmllbGRuYW1lIiwiRGF0ZSIsIm5vdyIsImV4dG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJmaWxlRmlsdGVyIiwiZXJyb3IiLCJpbWFnZUZpbHRlciIsIm1pbWV0eXBlIiwidG9Mb3dlckNhc2UiLCJ1cGxvYWQiLCJsaW1pdHMiLCJmaWxlU2l6ZSIsInVwbG9hZHMiLCJzaW5nbGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYm9va1VwbG9hZCJdLCJtYXBwaW5ncyI6InN5RUFlWTt5RkFmWixLQUFNQSxDQUFBQSxNQUFNLHlCQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFWLENBQVosQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQ0FDQSxLQUFNRSxDQUFBQSxPQUFPLHlCQUFHSCxNQUFNLENBQUNJLFdBQVAsQ0FBbUIsQ0FDaENDLFdBQVcsQ0FBRSxDQUFDQyxPQUFELENBQVVDLElBQVYsQ0FBZ0JDLEVBQWhCLEdBQXVCLCtDQUNuQ0EsRUFBRSxDQUFDLElBQUQsQ0FBT0MsU0FBUyxDQUFDLHNCQUFqQixDQUFGLENBQ0QsQ0FIZ0MsQ0FJakNDLFFBQVEsQ0FBQ0MsR0FBRCxDQUFNSixJQUFOLENBQVlDLEVBQVosQ0FBZ0IsK0NBQ2xCQSxFQUFFLENBQUMsSUFBRCxDQUFRLEdBQUVELElBQUksQ0FBQ0ssU0FBVSxJQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBVyxFQUFoQyxDQUFrQ1osSUFBSSxDQUFDYSxPQUFMLENBQWFSLElBQUksQ0FBQ1MsWUFBbEIsQ0FBekMsQ0FBRixDQUNMLENBTmdDLENBQW5CLENBQUgsQ0FBYixDLHVCQVNBLEtBQU1DLENBQUFBLFVBQVUsQ0FBRyxDQUFDWCxPQUFELENBQVVDLElBQVYsQ0FBZ0JDLEVBQWhCLENBQW9CVSxLQUFwQixHQUE4Qix3QkFDL0MsS0FBTUMsQ0FBQUEsV0FBVyx5QkFBR1osSUFBSSxDQUFDYSxRQUFMLENBQWNDLFdBQWQsRUFBSCxDQUFqQixDQUQrQyx1QkFFL0MsR0FBSSwyQkFBQUYsV0FBVyxHQUFLLFdBQWhCLDhCQUErQkEsV0FBVyxHQUFLLFlBQS9DLDhCQUErREEsV0FBVyxHQUFLLFdBQS9FLENBQUosQ0FBZ0csa0RBQzlGWCxFQUFFLENBQUMsSUFBRCxDQUFPLElBQVAsQ0FBRixDQUNELENBRkQsSUFFTyxrREFDTEEsRUFBRSxDQUFDLHlDQUFELENBQTRDLEtBQTVDLENBQUYsQ0FDQTtBQUNELENBQ0YsQ0FSRCxDQVNBLEtBQU1jLENBQUFBLE1BQU0sMEJBQUd0QixNQUFNLENBQUMsQ0FDcEJHLE9BRG9CLENBRXBCYyxVQUZvQixDQUdwQk0sTUFBTSxDQUFFLENBQ05DLFFBQVEsQ0FBRSxLQUFPLElBRFgsQ0FIWSxDQUFELENBQVQsQ0FBWixDQU9BLEtBQU1DLENBQUFBLE9BQU8sMEJBQUdILE1BQU0sQ0FBQ0ksTUFBUCxDQUFjLE9BQWQsQ0FBSCxDQUFiLEMsd0JBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUFFQyxVQUFVLENBQUVKLE9BQWQsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtdWx0ZXIgPSByZXF1aXJlKCdtdWx0ZXInKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gICBkZXN0aW5hdGlvbjogKHJlcXVlc3QsIGZpbGUsIGNiKSA9PiB7XG4gICAgY2IobnVsbCwgX19kaXJuYW1lKycuLi8uLi9wdWJsaWMvaW1hZ2VzLycpXG4gIH0sXG4gIGZpbGVuYW1lKHJlcSwgZmlsZSwgY2IpIHtcbiAgICAgICAgY2IobnVsbCwgYCR7ZmlsZS5maWVsZG5hbWV9LSR7RGF0ZS5ub3coKX1gK3BhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpXG4gIH1cblxufSlcbmNvbnN0IGZpbGVGaWx0ZXIgPSAocmVxdWVzdCwgZmlsZSwgY2IsIGVycm9yKSA9PiB7XG4gIGNvbnN0IGltYWdlRmlsdGVyID0gZmlsZS5taW1ldHlwZS50b0xvd2VyQ2FzZSgpXG4gIGlmIChpbWFnZUZpbHRlciA9PT0gJ2ltYWdlL2pwZycgfHwgaW1hZ2VGaWx0ZXIgPT09ICdpbWFnZS9qcGVnJyB8fCBpbWFnZUZpbHRlciA9PT0gJ2ltYWdlL3BuZycpIHtcbiAgICBjYihudWxsLCB0cnVlKVxuICB9IGVsc2Uge1xuICAgIGNiKCdleHRlbnNpb24gaW1hZ2Ugb25seSBqcGVnLCBqcGcsIGFuZCBwbmcnLCBmYWxzZSlcbiAgICAvLyBhbGVydCgnZXh0ZW5zaW9uIGltYWdlIG9ubHkganBlZywganBnLCBhbmQgcG5nJylcbiAgfVxufVxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcbiAgc3RvcmFnZSxcbiAgZmlsZUZpbHRlcixcbiAgbGltaXRzOiB7XG4gICAgZmlsZVNpemU6IDIwMjQgKiAyMDI0XG4gIH1cbn0pXG5jb25zdCB1cGxvYWRzID0gdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYm9va1VwbG9hZDogdXBsb2FkcyB9Il19